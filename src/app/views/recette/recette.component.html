<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

<script>
</script>

<header class="site-header">

    <div id="titreRecette" class="header-content">

        <div class="title-area">

            <h1>{{recette?.nomRecette}}</h1>
            <p id="timer">{{recette?.nbVues}} üëÅ {{recette?.nbFavoris}}<svg class="bi bi-heart-fill" width="1em"
                    height="1em" viewBox="0 0 16 16" fill="red" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"
                        clip-rule="evenodd" />
                </svg>
            </p>
            <h2></h2>

            <div id="timer"
                class="wprm-recipe-servings-container wprm-recipe-block-container wprm-recipe-block-container-separate wprm-block-text-normal">
                <div id="logoRecette">
                    <img *ngIf="recette?.tempsPreparation != null" src="../../../assets/img/preparation.png"
                        width="50em" height="50em"> {{recette?.tempsPreparation}}
                </div>

                <div id="logoRecette">
                    <img *ngIf="recette?.tempsCuisson != null" src="../../../assets/img/cuisson.png" width="50em"
                        height="50em"> {{recette?.tempsCuisson}}
                </div>

                <div id="logoRecette">
                    <span id="part" class="wprm-recipe-icon wprm-recipe-servings-icon"><svg
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
                            y="0px" width="32px" height="32px" viewBox="0 0 24 24">
                            <g>
                                <path fill="#333333"
                                    d="M10,0C9.4,0,9,0.4,9,1v4H7V1c0-0.6-0.4-1-1-1S5,0.4,5,1v4H3V1c0-0.6-0.4-1-1-1S1,0.4,1,1v8c0,1.7,1.3,3,3,3v10c0,1.1,0.9,2,2,2s2-0.9,2-2V12c1.7,0,3-1.3,3-3V1C11,0.4,10.6,0,10,0z">
                                </path>
                                <path data-color="color-2" fill="#333333"
                                    d="M19,0c-3.3,0-6,2.7-6,6v9c0,0.6,0.4,1,1,1h2v6c0,1.1,0.9,2,2,2s2-0.9,2-2V1C20,0.4,19.6,0,19,0z">
                                </path>
                            </g>
                        </svg>
                    </span>{{recette?.nbrePart}} {{recette?.libellePart}}
                    <span class="wprm-recipe-servings-unit wprm-recipe-details-unit wprm-block-text-normal">
                    </span>
                </div>


            </div>
            <p id="btn-p">
                <button *ngIf="this.auth.isLoggedIn()" id="btn" type="button" class="btn btn-outline-danger"
                    (click)="addFavoris()">‚ô• Ajouter la recettes √† mes favoris</button> </p>




        </div>

    </div>
    <div class="hero-graphic" *ngFor="let img of image">
        <img id="hero-graphic" src="{{img.lienImage}}" alt="Photo de la recette">


        <!-- always, right? -->
    </div>

</header>

<main class="main-content">

    <article id="hamburger-juicy">

        <h2 id="no-hamburger-juicy">Ingr√©dients</h2>

        <p id="nbrePart">Nombre de {{recette?.libellePart}}</p>

        <div class="recipe-ingredients__qt-counter">
            <div class="recipe-ingredients__qt-counter__increment recipe-ingredients__qt-counter__increment-minus"
                (click)="onProportionLess(recette?.nbrePart - 1)">-</div>
            <input class="recipe-ingredients__qt-counter__value title-5" type="text" name=""
                value="{{recette?.nbrePart}}">
            <div class="recipe-ingredients__qt-counter__increment recipe-ingredients__qt-counter__increment-plus"
                (click)="onProportionMore(recette?.nbrePart + 1)">+</div>
        </div>

        <div id="no-hamburger-juicy">
            <p>

                <li *ngFor="let ingredient of ingredients" class="card-text">
                    {{ingredient.qte}} {{ingredient.libelleUnite}} {{ingredient.nomIngredient}}
                </li>

            </p>
            <p id="btn-p"> <button *ngIf="this.auth.isLoggedIn()" id="btn" type="button" class="btn btn-outline-info"
                    (click)="addListeCourses()">Ajouter les ingr√©dients √† ma liste de course</button></p>
        </div>



    </article>

    <article id="burger-fourth">

        <h2>Pr√©paration </h2>

        <pre>{{recette?.etapes}}</pre>

    </article>

    <article>

        <h2>Astuces</h2>

        <pre>{{recette?.astuce}}</pre>
        <div class="byline" *ngIf="recette?.astuce">
            <span>By</span> Marine
        </div>
        <div id="partage">

            <p> <i class="fa fa-lg fa-instagram"></i> Partagez moi votre r√©sultat üòç Mentionnez <a
                    href="https://www.instagram.com/marineteroitin/?hl=fr">@marineteroitin</a> ou taguez <a
                    href="https://www.instagram.com/explore/tags/marinesrecipes/?hl=fr"> #marinesrecipes</a>!
            </p>
        </div>

    </article>

    <article id="burger-fourth">

        <h2>Commentaires</h2>

        <div *ngIf="auth.isLoggedIn()" class="card v-card v-sheet theme--light elevation-2"><span
                class="headline">Laisser un commentaire</span>
            <div class="sign-in-wrapper">
                <p class="caption disclaimer">
                    <textarea class="form-control" #message="ngModel" [(ngModel)]="newCommentaire.message"
                        [ngModelOptions]="{standalone: true}" id="exampleFormControlTextarea1" cols="45" rows="8"
                        aria-required="true" required></textarea>
                </p>
                <p class="error-message"></p>
                <button id="envoyer" (click)="addCommentaire(newCommentaire.message)">Envoyer</button>
            </div>


            <!---->
        </div>

        <div id="comments" class="post-comments elevation-2">

            <div>
                <ol class="comment-list">
                    <li class="comment even thread-even depth-1 parent" *ngFor="let commentaire of commentaires">
                        <article class="comment-body">
                            <footer class="comment-meta">
                                <div *ngIf="!commentaire.admin" class="comment-author vcard">
                                    <img alt="" src="../../../assets/img/avatar.png"
                                        class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="60">
                                    <b class="fn">{{commentaire.ecritPar}}</b></div>
                                <div *ngIf="commentaire.admin" class="comment-author vcard">
                                    <img id="logo" src="../../../assets/img/logo.jpeg"
                                        class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="auto">
                                    <b class="fn">{{commentaire.ecritPar}}</b></div>
                                <!-- .comment-author -->

                                <div class="comment-metadata">
                                    <a>
                                        <time datetime="2020-04-09T16:20:54+02:00">
                                            {{commentaire.dateCommentaire}}</time>
                                    </a>
                                </div><!-- .comment-metadata -->

                            </footer><!-- .comment-meta -->

                            <div class="comment-content row">
                                <div class="column1">
                                    <p>{{commentaire.message}}</p>
                                </div>
                                <div class="column2">
                                    <button id="btnCancel" *ngIf="auth.isAdmin()" class="btn btn-sm btn-danger"
                                        (click)="deleteCommentaire(commentaire.idCommentaire)"><i
                                            class=" fa fa-trash "></i></button>
                                </div>
                            </div><!-- .comment-content -->

                            <div class="comment-btn" *ngIf="commentaire.children.length == 0">
                                <form (ngSubmit)="addReponse($event, commentaire.idCommentaire)">
                                    <input name="message" type="textarea" class="text" rows="10" cols="30"
                                        placeholder="R√©pondre...">
                                    <button type="submit" id="envoyer">R√©pondre</button>
                                </form>
                            </div>


                        </article><!-- .comment-body -->
                        <div *ngIf="commentaire.children" id="children">
                            <ol class="children">
                                <li class="comment byuser comment-author-healthyclemsy bypostauthor odd alt depth-2"
                                    *ngFor="let children of commentaire.children ; last as isLast">
                                    <article class="comment-body">
                                        <footer class="comment-meta">
                                            <div *ngIf="!children.admin" class="comment-author vcard">
                                                <img alt="" src="../../../assets/img/avatar.png"
                                                    class="avatar avatar-60 photo grav-hashed grav-hijack" height="60"
                                                    width="60"> <b class="fn">{{children.ecritPar}}</b></div>
                                            <div *ngIf="children.admin" class="comment-author vcard">
                                                <img alt="" src="../../../assets/img/logo.jpeg" id="logo"
                                                    class="avatar avatar-60 photo grav-hashed grav-hijack" height="60"
                                                    width="auto"> <b class="fn">{{children.ecritPar}}</b></div>
                                            <!-- .comment-author -->

                                            <div class="comment-metadata">
                                                <a>
                                                    <time datetime="2020-04-12T10:36:28+02:00">
                                                        {{children.dateCommentaire}}</time>
                                                </a>
                                            </div><!-- .comment-metadata -->

                                        </footer><!-- .comment-meta -->

                                        <div class="comment-content row">
                                            <div class="column1">
                                                <p>{{children.message}}</p>
                                            </div>

                                            <div class="column2">
                                                <button id="btnCancel" *ngIf="auth.isAdmin()"
                                                    class="btn btn-sm btn-danger"
                                                    (click)="deleteCommentaire(children.idCommentaire)"><i
                                                        class=" fa fa-trash "></i></button>
                                            </div>
                                        </div><!-- .comment-content -->


                                        <div class="reply">

                                        </div><!-- #respond -->

                                        <div class="comment-btn" *ngIf="isLast && auth.isLoggedIn()">
                                            <form (ngSubmit)="addReponse($event, commentaire.idCommentaire)">
                                                <input name="message" type="textarea" class="text" rows="10" cols="30"
                                                    placeholder="R√©pondre...">
                                                <button type="submit" id="envoyer">R√©pondre</button>
                                            </form>
                                        </div>

                                    </article><!-- .comment-body -->
                                </li><!-- #comment-## -->
                            </ol><!-- .children -->
                        </div>

                    </li><!-- #comment-## -->
                </ol><!-- .comment-list -->
            </div>

        </div>

    </article>

</main>