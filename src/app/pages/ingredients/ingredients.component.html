<main class="page-row page-row-expanded">
  <div class="main-inner">
    <div class="item1 container">
      <div class="element1">
        <aside class="sidebar is-visible">
          <div class="”sidebar-content”">
            <ul>
              <li><a id="nav" href="/handleRecipes">Gérer les recettes</a></li>
              <li class="active">
                <a id="nav" href="/ingredient">Ingrédients</a>
              </li>
              <li><a id="nav" href="/category">Catégories</a></li>
              <li><a id="nav" href="/unite">Unités</a></li>
              <li><a id="nav" href="/handleMenu">Gérer le menu</a></li>
              <li>
                <a id="nav" href="/add-recipe">Créer une nouvelle recette</a>
              </li>
            </ul>
          </div>
        </aside>
      </div>
    </div>
    <div class="item2 container">
      <div class="element2">
        <section class="page">
          <div class="container">
            <div id="titre">
              <h1>Ingrédients</h1>
            </div>

            <div class="flex-container">
              <div id="addIng">
                <h3 id="question">Ajouter un nouvel ingredient</h3>
                <form (submit)="addIngredient()">
                  <input
                    type="text"
                    class="form-control"
                    name="nomIngredient"
                    placeholder="Nom ingredient"
                    [(ngModel)]="ingredient.nomIngredient"
                  />

                  <button class="btn btn-outline-info" type="submit">
                    Valider
                  </button>
                </form>
              </div>

              <div>
                <div class="col text-center has-search">
                  <span class="fa fa-search form-control-feedback"></span>
                  <input
                    class="form-control"
                    style="box-shadow: none;"
                    type="search"
                    placeholder="Rechercher un ingrédient"
                    aria-label="Search"
                    [(ngModel)]="searchTerm"
                    (ngModelChange)="onSearchTermChange()"
                  />
                </div>
                <table class="table col-md-12 mx-auto">
                  <tr
                    *ngFor="
                      let ingredient of ingredients$ | async;
                      let i = index
                    "
                  >
                    <td>
                      <form (submit)="updateIngredient(ingredient)">
                        <div class="form-row align-items-center">
                          <div class="col-auto">
                            <input
                              type="text"
                              class="form-control"
                              name="nomIngredient"
                              value="{{ ingredient.nomIngredient }}"
                              [(ngModel)]="ingredient.nomIngredient"
                            />
                          </div>
                          <div class="col-auto">
                            <button
                              type="submit"
                              class="btn btn-sm btn-warning"
                            >
                              <i class="fa fa-pencil"></i>
                            </button>
                          </div>
                          <div class="col-auto">
                            <button
                              class="btn btn-sm btn-danger"
                              (click)="
                                deleteIngredient(ingredient.idIngredient)
                              "
                            >
                              <i class="fa fa-trash"></i>
                            </button>
                          </div>
                        </div>
                      </form>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</main>
