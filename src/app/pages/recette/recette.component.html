<head>
    <meta property="og:title" content="recette?.nomRecette" />
    <meta property="og:description" content="recette?.mot" />
    <meta property="og:url" content="url" />
    <meta property="og:image" content="image[0]?.lienImage" />
</head>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

<header class="site-header">
    <div id="titreRecette" class="header-content">
        <div class="title-area">
            <h1>
                {{ recette?.nomRecette }}
                <a id="vege" *ngIf="recette?.vege"><img src="../../../assets/img/logoVegetarien.png" width="50em" height="50em" style="vertical-align: text-top;" /></a>
            </h1>
            <div *ngIf="this.auth.isLoggedIn()">
                <button *ngIf="!isInMenu" type="button" (click)="addToMenu()" class="btn btn-outline-success">
          <i class="fa fa-calendar-plus-o"></i>
          Ajouter au menu de la semaine
        </button>

                <button *ngIf="isInMenu" type="button" (click)="deleteToMenu()" class="btn btn-success">
          <i class="fa fa-calendar-times-o"></i>
          Supprimer du menu de la semaine
        </button>
            </div>

            <p id="timer">
                {{ recette?.nbVues }} üëÅ

                <a *ngIf="this.auth.isLoggedIn() && !isFavori" (click)="addFavoris()" data-toggle="popover" data-placement="bottom" data-trigger="hover" title="Ajouter aux favoris"><i id="textlogo"> {{
            recette?.nbFavoris }} </i><i class="fa fa-heart-o"></i></a>

                <a *ngIf="this.auth.isLoggedIn() && isFavori" (click)="deleteFavoris()" data-toggle="popover" data-placement="bottom" data-trigger="hover" title="Supprimer des favoris"><i id="textlogo">{{
            recette?.nbFavoris }} </i><i class="class= fa fa-heart"></i></a>

                <a *ngIf="!this.auth.isLoggedIn()"><i id="textlogo">{{ recette?.nbFavoris }} </i><i
            class="class= fa fa-heart"></i></a>
            </p>

            <h2></h2>

            <div id="timer" class="wprm-recipe-servings-container wprm-recipe-block-container wprm-recipe-block-container-separate wprm-block-text-normal">
                <div id="logoRecette">
                    <img *ngIf="recette?.tempsPreparation != null" src="../../../assets/img/preparation.png" width="50em" height="50em" /> {{ recette?.tempsPreparation }}
                </div>

                <div id="logoRecette">
                    <img *ngIf="recette?.tempsCuisson != null" src="../../../assets/img/cuisson.png" width="50em" height="50em" /> {{ recette?.tempsCuisson }}
                </div>

                <div id="logoRecette">
                    <span id="part" class="wprm-recipe-icon wprm-recipe-servings-icon"><svg xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="32px" height="32px" viewBox="0 0 24 24">
              <g>
                <path fill="#333333"
                  d="M10,0C9.4,0,9,0.4,9,1v4H7V1c0-0.6-0.4-1-1-1S5,0.4,5,1v4H3V1c0-0.6-0.4-1-1-1S1,0.4,1,1v8c0,1.7,1.3,3,3,3v10c0,1.1,0.9,2,2,2s2-0.9,2-2V12c1.7,0,3-1.3,3-3V1C11,0.4,10.6,0,10,0z">
                </path>
                <path data-color="color-2" fill="#333333"
                  d="M19,0c-3.3,0-6,2.7-6,6v9c0,0.6,0.4,1,1,1h2v6c0,1.1,0.9,2,2,2s2-0.9,2-2V1C20,0.4,19.6,0,19,0z">
                </path>
              </g>
            </svg> </span>{{ recette?.nbrePart }} {{ recette?.libellePart }}
                    <span class="wprm-recipe-servings-unit wprm-recipe-details-unit wprm-block-text-normal">
          </span>
                </div>
            </div>
            <div *ngIf="image" style="padding: 2em 0;">
                <share-buttons [theme]="'default'" [include]="[
            'facebook',
            'twitter',
            'linkedin',
            'pinterest',
            'reddit',
            'tumblr',
            'mix',
            'viber',
            'vk',
            'telegram',
            'messenger',
            'whatsapp',
            'xing',
            'line',
            'sms',
            'email',
            'print',
            'copy'
          ]" [exclude]="[
            'reddit',
            'tumblr',
            'mix',
            'viber',
            'vk',
            'telegram',
            'xing',
            'line'
          ]" [show]="11" [size]="-2" [url]="url" [title]="recette?.nomRecette" [description]="recette?.mot" [image]="image[0]?.lienImage"></share-buttons>
            </div>
            <div *ngIf="!image" style="padding: 2em 0;">
                <share-buttons [theme]="'default'" [include]="[
            'facebook',
            'twitter',
            'linkedin',
            'pinterest',
            'reddit',
            'tumblr',
            'mix',
            'viber',
            'vk',
            'telegram',
            'messenger',
            'whatsapp',
            'xing',
            'line',
            'sms',
            'email',
            'print',
            'copy'
          ]" [exclude]="[
            'reddit',
            'tumblr',
            'mix',
            'viber',
            'vk',
            'telegram',
            'xing',
            'line'
          ]" [show]="11" [size]="-2" [url]="url" [title]="recette?.nomRecette" [description]="recette?.mot">
                </share-buttons>
            </div>
        </div>
    </div>
    <div class="hero-graphic" *ngFor="let img of image">
        <img id="hero-graphic" src="{{ img.lienImage }}" alt="Photo de la recette" />

        <!-- always, right? -->
    </div>
</header>

<main class="main-content">
    <article id="hamburger-juicy">
        <h2 id="no-hamburger-juicy">
            Ingr√©dients
        </h2>

        <p id="nbrePart">Nombre de {{ recette?.libellePart }}</p>

        <div class="recipe-ingredients__qt-counter">
            <div class="recipe-ingredients__qt-counter__increment recipe-ingredients__qt-counter__increment-minus" *ngIf="recette?.nbrePart > 1" (click)="onProportionLess(recette?.nbrePart - 1)">
                -
            </div>
            <input class="recipe-ingredients__qt-counter__value title-5" type="text" name="" value="{{ recette?.nbrePart }}" #box (keyup.enter)="onEnter(box.value)" />
            <div class="recipe-ingredients__qt-counter__increment recipe-ingredients__qt-counter__increment-plus" (click)="onProportionMore(recette?.nbrePart + 1)">
                +
            </div>
        </div>

        <div *ngIf="this.auth.isLoggedIn()" style="margin: 1em;">
            <button (click)="addListeCourses()" type="button" class="btn btn-outline-secondary">
        <i class="fa fa-cart-plus" aria-hidden="true"></i>
        Ajouter √† la liste de courses
      </button>
        </div>

        <div id="no-hamburger-juicy">
            <p>
                <li *ngFor="let ingredient of ingredients" class="card-text">
                    <span *ngIf="ingredient.updateQte != null">
            {{ ingredient.updateQte }} {{ ingredient.libelleUnite }}
            {{ ingredient.nomIngredient }}
          </span>
                    <span *ngIf="ingredient.updateQte == null">
            {{ ingredient.qte }} {{ ingredient.libelleUnite }}
            {{ ingredient.nomIngredient }}
          </span>
                </li>
            </p>
        </div>
    </article>

    <article id="burger-fourth">
        <h2>Pr√©paration</h2>

        <pre>{{ recette?.etapes }}</pre>
    </article>

    <article *ngIf="recette?.astuce != 'null'">
        <div class="byline">
            <h2>Astuces</h2>

            <pre>{{ recette?.astuce }}</pre>

            <span>By</span> Marine
        </div>
        <div id="partage">
            <p>
                <i class="fa fa-lg fa-instagram" style="color: #053477;"></i> Partagez moi votre r√©sultat üòç Mentionnez
                <a href="https://www.instagram.com/marineteroitin/?hl=fr">@marineteroitin</a> ou taguez
                <a href="https://www.instagram.com/explore/tags/marinesrecipes/?hl=fr">
          #marinesrecipes</a>!
            </p>
        </div>
    </article>

    <article id="burger-fourth">
        <h2>Commentaires</h2>
        <div *ngIf="!auth.isLoggedIn()" class="blog-text-color">
            <span class="blog-button-color" routerLink="/register">Connexion</span> pour r√©diger un commentaire.
        </div>
        <div *ngIf="auth.isLoggedIn()" class="card v-card v-sheet theme--light elevation-2">
            <span class="headline">Laisser un commentaire</span>
            <div class="sign-in-wrapper">
                <div *ngIf="!newCommentaire.image" class="caption disclaimer" style="display: flex; margin-left: 2em;">
                    <form style="align-self: center;">
                        <div id="imageCom">
                            <input type="file" id="file" name="file" class="inputfile" name="image" (change)="selectFile($event, false)" />
                            <label id="positionImage" for="file" style="font-size: 16px;">Ajouter la photo de ma r√©alisation</label>
                        </div>
                        <br />
                    </form>
                    <textarea class="form-control" #message="ngModel" [(ngModel)]="newCommentaire.message" [ngModelOptions]="{ standalone: true }" id="exampleFormControlTextarea1" cols="45" rows="8" aria-required="true" required></textarea>
                </div>
                <div *ngIf="newCommentaire.image" class="caption disclaimer" style="display: flex; border-top: 3px solid #eceeef; padding: 2rem 0;">
                    <div style="width: 80%; align-self: center;">
                        <img src="{{ images.lienImage }}" class="rounded mx-auto d-block" alt="Responsive image" id="resp" style="width: 80%;" />
                        <br />
                        <form style="align-self: center;">
                            <div id="image" style="
                  background-color: #006838;
                  color: white;
                  padding: 0.5em;
                  border-radius: 1em;
                  text-align-last: center;
                  margin: 0 2em;
                ">
                                <input type="file" id="file" name="file" class="inputfile" name="image" (change)="selectFile($event, false)" />
                                <label id="positionImage" for="file" style="font-size: 16px;">Modifier ma photo</label>
                            </div>
                            <br />
                        </form>
                    </div>

                    <textarea class="form-control" #message="ngModel" [(ngModel)]="newCommentaire.message" [ngModelOptions]="{ standalone: true }" id="exampleFormControlTextarea1" cols="45" rows="8" aria-required="true" required></textarea>
                </div>
                <p class="error-message"></p>
                <button id="envoyer" (click)="addCommentaire(newCommentaire.message)">
          Envoyer
        </button>
            </div>
        </div>

        <div *ngIf="hasCom" id="comments" class="post-comments elevation-2">
            <div>
                <ol class="comment-list">
                    <li class="comment even thread-even depth-1 parent" *ngFor="let commentaire of commentaires$ | async">
                        <article class="comment-body">
                            <footer class="comment-meta">
                                <div *ngIf="!commentaire.admin" class="comment-author vcard">
                                    <img alt="" src="../../../assets/img/avatar.png" class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="60" />
                                    <b class="fn">{{ commentaire.ecritPar }}</b>
                                </div>
                                <div *ngIf="commentaire.admin" class="comment-author vcard">
                                    <img id="logo" src="../../../assets/img/logo.jpeg" class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="auto" />
                                    <b class="fn">{{ commentaire.ecritPar }}</b>
                                </div>
                                <!-- .comment-author -->

                                <div class="comment-metadata">
                                    <a>
                                        <time datetime="2020-04-09T16:20:54+02:00">
                      {{ commentaire.dateCommentaire }}</time>
                                    </a>
                                </div>
                                <!-- .comment-metadata -->
                            </footer>
                            <!-- .comment-meta -->

                            <div class="comment-content row">
                                <div class="column1">
                                    <div class="row">
                                        <img id="imageCommentaire" src="{{ commentaire.lienImage }}" />
                                        <p>{{ commentaire.message }}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="column2">
                                <button id="btnCancel" *ngIf="auth.isAdmin()" class="btn btn-sm btn-danger" (click)="deleteCommentaire(commentaire.idCommentaire)">
                  <i class="fa fa-trash"></i>
                </button>
                            </div>
                            <!-- .comment-content -->
                            <div style="padding-top: 1em; text-align-last: end;">
                                <button *ngIf="!commentaire.response" id="envoyerCommentaire" type="submit" (click)="addResponse(commentaire.idCommentaire)">
                  R√©pondre
                </button>
                            </div>

                            <div class="comment-btn" *ngIf="
                  commentaire.children &&
                  auth.isLoggedIn() &&
                  commentaire.response
                " style="text-align-last: end; padding-bottom: 1em;">
                                <div style="padding-bottom: 1em;">
                                    <button *ngIf="commentaire.response" type="submit" (click)="addResponse(commentaire.idCommentaire)" style="font-size: x-large;">
                    <i class="fa fa-times" aria-hidden="true"></i>
                  </button>
                                </div>

                                <form class="formCommentaire" (ngSubmit)="addReponse($event, commentaire.idCommentaire)">
                                    <div style="display: flex; margin-left: 2em;">
                                        <div *ngIf="!newResponse.image">
                                            <form style="align-self: center; padding: 0 2em;">
                                                <div id="image">
                                                    <input type="file" id="{{ commentaire.idCommentaire }}" name="file" class="inputfile" name="image" (change)="selectFile($event, true)" />
                                                    <label id="positionImage" for="{{ commentaire.idCommentaire }}"><i class="fa fa-picture-o"
                              aria-hidden="true" style="font-size: x-large;"></i></label>
                                                </div>
                                                <br />
                                            </form>
                                        </div>

                                        <div *ngIf="newResponse.image" style="width: 80%; align-self: center;">
                                            <img src="{{ newResponse.lienImage }}" class="rounded mx-auto d-block" alt="Responsive image" id="resp" style="width: 80%;" />
                                            <br />
                                            <form style="align-self: center;">
                                                <div id="image" style="
                            background-color: #006838;
                            color: white;
                            padding: 0.5em;
                            border-radius: 1em;
                            text-align-last: center;
                            margin: 0 2em;
                          ">
                                                    <input type="file" id="file" name="file" class="inputfile" name="image" (change)="selectFile($event, true)" />
                                                    <label id="positionImage" for="file" style="font-size: 16px;">Modifier ma photo</label>
                                                </div>
                                                <br />
                                            </form>
                                        </div>
                                        <textarea name="message" type="textarea" class="text" rows="3" style="text-align-last: left;"></textarea>
                                    </div>

                                    <div style="text-align: end; margin-top: 1em;">
                                        <button id="envoyerCommentaire" type="submit">
                      R√©pondre
                    </button>
                                    </div>
                                </form>
                            </div>
                            <!--<div
                *ngIf="
                  commentaire.children &&
                  auth.isLoggedIn() &&
                  newResponse.image &&
                  commentaire.response
                "
                class="caption disclaimer"
                style="
                  display: flex;
                  border-top: 3px solid #eceeef;
                  padding: 2rem 0;
                "
              >
                <form
                  class="formCommentaire"
                  (ngSubmit)="addReponse($event, commentaire.idCommentaire)"
                >
                  <div style="width: 80%; align-self: center;">
                    <img
                      src="{{ newResponse.lienImage }}"
                      class="rounded mx-auto d-block"
                      alt="Responsive image"
                      id="resp"
                      style="width: 80%;"
                    />
                    <br />
                    <form style="align-self: center;">
                      <div
                        id="image"
                        style="
                          background-color: #006838;
                          color: white;
                          padding: 0.5em;
                          border-radius: 1em;
                          text-align-last: center;
                          margin: 0 2em;
                        "
                      >
                        <input
                          type="file"
                          id="file"
                          name="file"
                          class="inputfile"
                          name="image"
                          (change)="selectFile($event, true)"
                        />
                        <label
                          id="positionImage"
                          for="file"
                          style="font-size: 16px;"
                          >Modifier ma photo</label
                        >
                      </div>
                      <br />
                    </form>
                  </div>

                  <textarea
                    class="form-control"
                    #message="ngModel"
                    [(ngModel)]="newCommentaire.message"
                    [ngModelOptions]="{ standalone: true }"
                    id="exampleFormControlTextarea1"
                    cols="45"
                    rows="8"
                    aria-required="true"
                    required
                  ></textarea>
                  <div style="text-align: end; margin-top: 1em;">
                    <button id="envoyerCommentaire" type="submit">
                      R√©pondre
                    </button>
                  </div>
                </form>
              </div>-->
                        </article>
                        <!-- .comment-body -->
                        <div *ngIf="commentaire.children" id="children">
                            <ol class="children">
                                <li class="comment byuser comment-author-healthyclemsy bypostauthor odd alt depth-2" *ngFor="let children of commentaire.children; last as isLast">
                                    <article class="comment-body">
                                        <footer class="comment-meta">
                                            <div *ngIf="!children.admin" class="comment-author vcard">
                                                <img alt="" src="../../../assets/img/avatar.png" class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="60" />
                                                <b class="fn">{{ children.ecritPar }}</b>
                                            </div>
                                            <div *ngIf="children.admin" class="comment-author vcard">
                                                <img alt="" src="../../../assets/img/logo.jpeg" id="logo" class="avatar avatar-60 photo grav-hashed grav-hijack" height="60" width="auto" />
                                                <b class="fn">{{ children.ecritPar }}</b>
                                            </div>
                                            <!-- .comment-author -->

                                            <div class="comment-metadata">
                                                <a>
                                                    <time datetime="2020-04-12T10:36:28+02:00">
                            {{ children.dateCommentaire }}</time>
                                                </a>
                                            </div>
                                            <!-- .comment-metadata -->
                                        </footer>
                                        <!-- .comment-meta -->

                                        <div class="comment-content row">
                                            <div class="column1">
                                                <div class="row">
                                                    <img id="imageCommentaire" src="{{ children.lienImage }}" />
                                                    <p>{{ children.message }}</p>
                                                </div>
                                            </div>

                                            <div class="column2">
                                                <button id="btnCancel" *ngIf="auth.isAdmin()" class="btn btn-sm btn-danger" (click)="deleteCommentaire(children.idCommentaire)">
                          <i class="fa fa-trash"></i>
                        </button>
                                            </div>
                                        </div>
                                        <!-- .comment-content -->

                                        <div class="reply"></div>
                                        <!-- #respond -->
                                        <!--<button
                      *ngIf="!children.response"
                      id="envoyerCommentaire"
                      type="submit"
                      (click)="addResponse(children.idCommentaire)"
                    >
                      R√©pondre
                    </button>
                    <div
                      class="comment-btn"
                      *ngIf="
                        isLast &&
                        auth.isLoggedIn() &&
                        children.response &&
                        !newResponse.image
                      "
                    >
                      <form
                        class="formCommentaire"
                        (ngSubmit)="
                          addReponse($event, commentaire.idCommentaire)
                        "
                      >
                        <div style="display: flex; margin-left: 2em;">
                          <button
                            *ngIf="children.response"
                            id="envoyerCommentaire"
                            type="submit"
                            (click)="addResponse(children.idCommentaire)"
                          >
                            Annuler
                          </button>
                          <form>
                            <div id="image">
                              <input
                                type="file"
                                id="{{ commentaire.idCommentaire }}"
                                name="file"
                                class="inputfile"
                                name="image"
                                (change)="selectFile($event, true)"
                              />
                              <label
                                id="positionImage"
                                for="{{ commentaire.idCommentaire }}"
                                >Choisir une image</label
                              >
                            </div>
                            <br />
                          </form>
                          <textarea
                            name="message"
                            type="textarea"
                            class="text"
                            rows="3"
                          ></textarea>
                        </div>

                        <div style="text-align: end; margin-top: 1em;">
                          <button id="envoyerCommentaire" type="submit">
                            R√©pondre
                          </button>
                        </div>
                      </form>
                    </div>
                    <div
                      *ngIf="isLast && auth.isLoggedIn() && newResponse.image"
                      class="caption disclaimer"
                      style="display: flex;"
                    >
                      <div style="width: 80%; align-self: center;">
                        <img
                          src="{{ newResponse.lienImage }}"
                          class="rounded mx-auto d-block"
                          alt="Responsive image"
                          id="resp"
                          style="width: 80%;"
                        />
                        <br />
                        <form style="align-self: center;">
                          <div
                            id="image"
                            style="
                              background-color: #006838;
                              color: white;
                              padding: 0.5em;
                              border-radius: 1em;
                              text-align-last: center;
                              margin: 0 2em;
                            "
                          >
                            <input
                              type="file"
                              id="file"
                              name="file"
                              class="inputfile"
                              name="image"
                              (change)="selectFile($event, true)"
                            />
                            <label
                              id="positionImage"
                              for="file"
                              style="font-size: 16px;"
                              >Modifier ma photo</label
                            >
                          </div>
                          <br />
                        </form>
                      </div>

                      <textarea
                        class="form-control"
                        #message="ngModel"
                        [(ngModel)]="newCommentaire.message"
                        [ngModelOptions]="{ standalone: true }"
                        id="exampleFormControlTextarea1"
                        cols="45"
                        rows="8"
                        aria-required="true"
                        required
                      ></textarea>
                    </div>-->
                                    </article>
                                    <!-- .comment-body -->
                                </li>
                                <!-- #comment-## -->
                            </ol>
                            <!-- .children -->
                        </div>
                    </li>
                    <!-- #comment-## -->
                </ol>
                <!-- .comment-list -->
            </div>
        </div>
    </article>

    <h2>Post r√©cents</h2>
</main>

<div id="recentPost">
    <div class="container marketing">
        <!-- Three columns of text below the carousel -->
        <div class="row">
            <div class="col-lg-4" *ngFor="let recette of latestRecipes">
                <div id="imgSize">
                    <div class="box">
                        <img id="imgCard" class="bd-placeholder-img" width="180" height="auto" src="{{ recette.lienImage }}" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" />
                    </div>
                </div>
                <ul class="post-categories2">
                    <li *ngFor="let category of recette.categories">
                        <a rel="category tag">{{ category.libelleCategorie }}</a>
                    </li>
                </ul>
                <h3 id="cardTitle">{{ recette.nomRecette }}</h3>
                <div id="container">
                    <div class="centre">
                        {{ recette.mot }}
                    </div>
                    <!-- centre -->
                </div>
                <p>
                    <a [routerLink]="['/recipe', recette.idRecette]" class="btn btn-primary btn-effect top">
                        <span>Voir ¬ª</span>
                        <span><i class="fa fa-long-arrow-right" style="color: white;"></i></span>
                    </a>
                </p>
            </div>
            <!-- /.col-lg-4 -->
        </div>
        <!-- /.row -->
    </div>
</div>